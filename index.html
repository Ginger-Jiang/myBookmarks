<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="index.css" />
    <title>数组也是对象</title>
  </head>
  <body>
    <!-- <header>搜索</header> -->
    <main>
      <div id="main"></div>
    </main>

    <script>
      keys = {
        '0': {
          0: 'q',
          1: 'w',
          2: 'e',
          3: 'r',
          4: 't',
          5: 'y',
          6: 'u',
          7: 'i',
          8: 'o',
          9: 'p',
          length: 10
        },
        '1': {
          0: 'a',
          1: 's',
          2: 'd',
          3: 'f',
          4: 'g',
          5: 'h',
          6: 'j',
          7: 'k',
          8: 'l',
          length: 9
        },
        '2': {
          0: 'z',
          1: 'x',
          2: 'c',
          3: 'v',
          4: 'b',
          5: 'n',
          6: 'm',
          length: 7
        },
        length: 3
      }
      hash = {
        q: 'http://www.baidu.com',
        w: 'http://www.baidu.com',
        e: 'http://www.baidu.com',
        r: 'http://www.baidu.com',
        t: 'http://www.baidu.com',
        y: 'http://www.baidu.com',
        u: 'http://www.baidu.com',
        i: 'http://www.baidu.com',
        o: 'http://www.baidu.com',
        p: 'http://www.baidu.com',
        a: 'http://www.baidu.com',
        s: 'http://www.baidu.com',
        d: 'http://www.baidu.com',
        f: 'http://www.baidu.com',
        g: 'http://www.baidu.com',
        h: 'http://www.baidu.com',
        j: 'http://www.baidu.com',
        k: 'http://www.baidu.com',
        l: 'http://www.baidu.com',
        z: 'http://www.baidu.com',
        x: 'http://www.baidu.com',
        c: 'http://www.baidu.com',
        v: 'http://www.baidu.com',
        b: 'http://www.baidu.com',
        n: 'http://www.baidu.com',
        m: 'http://www.baidu.com'
      }

      hashInLocalStrorage = JSON.parse(localStorage.getItem('hash') || '{}')
      if (hashInLocalStrorage) {
        hash = hashInLocalStrorage
      }
      index = 0
      while (index < keys['length']) {
        div1 = document.createElement('div')
        main.appendChild(div1)

        row = keys[index]

        index1 = 0
        while (index1 < row['length']) {
          kbd = document.createElement('kbd')
          kbd.textContent = row[index1]
          button = document.createElement('button')
          button.textContent = '编辑'
          button.id = row[index1]
          button.onclick = function(e) {
            key = e.target.id
            inputWebsite = prompt('请输入网址')
            hash[key] = inputWebsite
            localStorage.setItem('hash', JSON.stringify(hash))
          }
          kbd.appendChild(button)
          div1.appendChild(kbd)
          index1++
        }
        index++
      }

      document.onkeypress = function(e) {
        key = e['key']
        website = hash[key]
        // location.href = website
        window.open(website, '_blank')
      }
    </script>
  </body>
</html>
